Тестовое задание для отбора на Летнюю ИТ-школу КРОК по разработке

## Условие задания
Один развивающийся и перспективный маркетплейс активно растет в настоящее время. Текущая команда разработки вовсю занята тем, что развивает ядро системы. Помимо этого, перед CTO маркетплейса стоит задача — разработать подсистему аналитики, которая на основе накопленных данных формировала бы разнообразные отчеты и статистику.

Вы — компания подрядчик, с которой маркетплейс заключил рамочный договор на выполнение работ по разработке этой подсистемы. В рамках первого этапа вы условились провести работы по прототипированию и определению целевого технологического стека и общих подходов к разработке.

На одном из совещаний с Заказчиком вы определили задачу, на которой будете выполнять работы по прототипированию. В качестве такой задачи была выбрана разработка отчета о периодах наибольших трат со стороны пользователей.

Аналитики со стороны маркетплейса предоставили небольшой срез массива данных (файл format.json) о покупках пользователей, на примере которого вы смогли бы ознакомиться с форматом входных данных. Каждая запись данного среза содержит следующую информацию:
- Идентификатор пользователя;
- Дата и время оформления заказа;
- Статус заказа;
- Сумма заказа.

В пояснительной записке к массиву данных была уточняющая информация относительно статусов заказов:
- COMPLETED (Завершенный заказ);
- CANCELED (Отмененный заказ);
- CREATED (Созданный заказ, еще не оплаченный);
- DELIVERY (Созданный и оплаченный заказ, который доставляется).

Необходимо разработать отчет, вычисляющий по полученному массиву данных месяц, когда пользователи тратили больше всего. Если максимальная сумма пользовательских трат была в более, чем одном месяце, отчет должен показывать все такие месяцы. В отчете должны учитываться только завершенные заказы.

Требования к реализации:
1. Реализация должна содержать, как минимум, одну процедуру (функцию/метод), отвечающую за формирование отчета, и должна быть описана в readme.md в соответствии с чек-листом;
2. В качестве входных данных программа использует json-файл (input.json), соответствующий структуре, описанной в условиях задания;
3. Процедура (функция/метод) формирования отчета должна возвращать строку в формате json следующего формата:
   - {«months»: [«march»]} 
   - {«months»: [«march», «december»]}
4. Найденный в соответствии с условием задачи месяц должен выводиться на английском языке в нижнем регистре. Если месяцев несколько, то на вывод они все подаются на английском языке в нижнем регистре в порядке их следования в течение года.

## Автор решения
Фациевич Дмитрий Иванович

## Описание реализации
Проект состоит из одного класса, одного общедоступного метода main и 5 приватных методов: readJson(), getMoneyMonthsValues(), findMonthsSums(), findMaxSpend(), returnJson(). Подробное описание методов:

1) readJson() - читает содержимое файла типа json и сохраняет значения в строковую переменную json. Работает через java.nio.file.Files. Обрабатывается обычная ошибка (исключение), когда невозможно прочитать файл

2) getMoneyMonthsValues() - на основе строки (ранее json файла, обработанного методом readJson()) ищем нужные значения среди объектов со статусом выполнения заказа COMPLETED, далее ищет значения для ключа total и month, после сохраняет их в специализированные массивы. После этого, изменяет формат написания даты, вместо полной даты YYYY-MM-DD:... сохрнаяет в специальный ArrayList названия месяцев. Для упрощения будущих задач, метод загружает словарь (HashMap) dictionary парой ключ-значение сумма:месяц.

3) findMonthsSums() - внутри создается локальная переменная типа Map<String, Double> sums, в который по выполнению метода будут занесены значения сум трат в одной месяце. То есть, если за месяц была совершена всего одна покупка, в sums сохранятся значения без изменений. Если за месяц было сделать две и более покупок, то будет сохранена сумма заказов за этот месяц.

4) findMaxSpend() - метод, который среди результатов вывода метода findMonthsSums() ищем месяц с наибольшим числом потраченных денег.

5) returnJson() - метод, который конвертирует строку-результат метода findMaxSpend() в вид json, до этого меняя регистр на нижний.
 
## Инструкция по сборке и запуску решения
Для выполнения требуется библиотека org.json, которая была ассоциирована через maven. По идее, должна подтянуться автоматически и быть внутри External Libraries -> json. Если не подтянулась, то file -> project structire -> libraries -> + -> from maven -> вводим JSON -> крутим вниз -> выбираем org.json 20240303 (или любую новую версию). Чтобы запустить код, нажимаем зеленый треугольник справа-сверху, смотрим результат в консоли
