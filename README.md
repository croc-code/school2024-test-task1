# Тестовое задание для отбора на Летнюю ИТ-школу КРОК по разработке

## Условие задания
Один развивающийся и перспективный маркетплейс активно растет в настоящее время. Текущая команда разработки вовсю занята тем, что развивает ядро системы. Помимо этого, перед CTO маркетплейса стоит задача — разработать подсистему аналитики, которая на основе накопленных данных формировала бы разнообразные отчеты и статистику.

Вы — компания подрядчик, с которой маркетплейс заключил рамочный договор на выполнение работ по разработке этой подсистемы. В рамках первого этапа вы условились провести работы по прототипированию и определению целевого технологического стека и общих подходов к разработке.

На одном из совещаний с Заказчиком вы определили задачу, на которой будете выполнять работы по прототипированию. В качестве такой задачи была выбрана разработка отчета о периодах наибольших трат со стороны пользователей.

Аналитики со стороны маркетплейса предоставили небольшой срез массива данных (файл format.json) о покупках пользователей, на примере которого вы смогли бы ознакомиться с форматом входных данных. Каждая запись данного среза содержит следующую информацию:
- Идентификатор пользователя;
- Дата и время оформления заказа;
- Статус заказа;
- Сумма заказа.

В пояснительной записке к массиву данных была уточняющая информация относительно статусов заказов:
- COMPLETED (Завершенный заказ);
- CANCELED (Отмененный заказ);
- CREATED (Созданный заказ, еще не оплаченный);
- DELIVERY (Созданный и оплаченный заказ, который доставляется).

Необходимо разработать отчет, вычисляющий по полученному массиву данных месяц, когда пользователи тратили больше всего. Если максимальная сумма пользовательских трат была в более, чем одном месяце, отчет должен показывать все такие месяцы. В отчете должны учитываться только завершенные заказы.

Требования к реализации:
1. Реализация должна содержать, как минимум, одну процедуру (функцию/метод), отвечающую за формирование отчета, и должна быть описана в readme.md в соответствии с чек-листом;
2. В качестве входных данных программа использует json-файл (input.json), соответствующий структуре, описанной в условиях задания;
3. Процедура (функция/метод) формирования отчета должна возвращать строку в формате json следующего формата:
   - {«months»: [«march»]} 
   - {«months»: [«march», «december»]}
4. Найденный в соответствии с условием задачи месяц должен выводиться на английском языке в нижнем регистре. Если месяцев несколько, то на вывод они все подаются на английском языке в нижнем регистре в порядке их следования в течение года.

## Автор решения
Фролов Леонид Дмитриевич
## Описание реализации
Проект содержит два класса: Order и App.
1. Класс Order представляет данные о заказе пользователя и содержит следующие поля (соответствующие данным из JSON файла):
   - <b>user_id</b>: идентификатор пользователя
   - <b>ordered_at</b>: дата и время заказа
   - <b>status</b>: статус заказа
   - <b>total</b>: сумма заказа

Данный класс содержит аннотацию @Data из библиотеки Lombok, которая автоматически создает нужные геттеры, сеттеры и конструкторы.

2. Класс App содержит методы для работы с данными о заказах и генерации отчета:
   - <b>getOrdersFromFile()</b>: метод для чтения данных о заказах из JSON файла и преобразования их в список объектов Order. Использует библиотеку Jackson для десериализации JSON файла в список объектов Order.
   - <b>generateReport(List<Order> orders)</b>: метод для генерации отчета о месяцах с наибольшими тратами пользователей. Он фильтрует завершенные заказы, группирует их по месяцам и определяет месяц(ы) с максимальными тратами.
   - <b>main(String[] args)</b>: точка входа в программу, где вызываются методы для чтения данных и генерации отчета.
   
   Также класс App содержит поля:
   - строковое поле-константа <b>FILEPATH</b> - путь к json-файлу
   - строковое поле-константа <b>COMPLETED</b> - нужный статус заказа
## Инструкция по сборке и запуску решения
Сборка проекта
1. Установка Maven (если еще не установлен):<br>
Скачайте и установите Maven с официального сайта.
Настройте переменную окружения M2_HOME и добавьте путь к Maven в переменную PATH.
2. Сборка проекта:<br>
Откройте терминал или командную строку.<br>
Перейдите в директорию проекта, где находится файл pom.xml.<br>
Выполните команду:
<b>mvn clean install</b>

Maven скачает необходимые зависимости, скомпилирует проект и создаст исполняемый JAR-файл.<br>
Запуск программы<br>
В терминале выполните команду:
<b>mvn exec:java</b>